function get_id(e){var t=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,n=e.match(t);if(n&&n[7].length===11)return n[7];alert("Can't catch video id.");return"error"}function qs_parse(e){var t={};e=e.split("&");e.forEach(function(e){var n=e.replace(/\+/g,"%20"),r=n.indexOf("="),i,s,o,u;if(r>0){i=n.substr(0,r);s=n.substr(r+1)}else{i=n;s=""}try{o=decodeURIComponent(i);u=decodeURIComponent(s)}catch(a){o=unescape(i);u=unescape(s)}t.hasOwnProperty(o)?Array.isArray(t[o])?t[o].push(u):t[o]=[t[o],u]:t[o]=u});return t}function get_video(e){var t="http://www.youtube.com/get_video_info?el=detailpage&video_id=";$.get(t+e,function(t){var n=qs_parse(t),r=n.url_encoded_fmt_stream_map.replace(/%3B\+/g,"&").replace(/%3D/g,"=").split(",").map(function(e){var t=qs_parse(e);t.sig&&(t.url+="&signature="+t.sig);return t});$("#table").before('<iframe width="560" height="315" src="http://www.youtube.com/embed/'+e+'" frameborder="0" allowfullscreen></iframe>');$("#table").append("<caption>"+n.title+"</caption>");r.forEach(function(e){$("#table").find("tbody").append('<tr><td><a href="'+e.url+'" class="btn btn-small btn-success"><i class="icon-download-alt icon-white"></i> Download</a></td><td>'+e.type+"</td><td>"+e.quality+"</td></tr>")})});$("#table").fadeIn("slow")};